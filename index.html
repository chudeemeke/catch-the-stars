<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
<meta name="theme-color" content="#2e3350" />
<link rel="manifest" href="manifest.webmanifest">
<link rel="apple-touch-icon" href="assets/icon-192.png">
<title>Catch the Stars ‚Äî v1.1.1</title>
<style>
  :root{
    --accent:#ffda6b;
    --ink:#fff;
    --panel:#16192f;
    --frost:rgba(255,255,255,.08);
    --glass:rgba(10,12,25,.68);
  }
  html,body{margin:0;height:100%;overflow:hidden;background:radial-gradient(circle at 20% 20%,rgba(255,214,102,.12),transparent 35%),radial-gradient(circle at 80% 30%,rgba(141,100,255,.18),transparent 40%),#0c0f25;color:var(--ink);font-family:"Segoe UI",system-ui,-apple-system,Roboto,Ubuntu,"Helvetica Neue",Arial,sans-serif}
  canvas{display:block;touch-action:none;filter:drop-shadow(0 0 20px rgba(255,255,255,.08));}
  .hud{position:fixed;left:0;right:0;top:0;display:flex;gap:.6rem;align-items:center;padding:.7rem 1rem;background:linear-gradient(to bottom,rgba(10,12,25,.72),rgba(10,12,25,.22));backdrop-filter:blur(8px);z-index:3;box-shadow:0 10px 30px rgba(0,0,0,.35)}
  .chip{background:rgba(255,255,255,.1);padding:.38rem .7rem;border-radius:.9rem;font-weight:800;font-size:14px;letter-spacing:.02em;box-shadow:0 6px 16px rgba(0,0,0,.2);border:1px solid rgba(255,255,255,.15)}
  .title{font-weight:900;font-size:17px;margin-right:auto;text-shadow:0 3px 18px rgba(255,218,107,.35);display:flex;align-items:center;gap:.45rem}
  .title .badge{padding:.22rem .55rem;border-radius:.7rem;background:rgba(255,255,255,.1);font-size:11px;font-weight:800;letter-spacing:.04em}
  .btn{cursor:pointer;background:linear-gradient(120deg,rgba(255,218,107,.65),rgba(255,255,255,.35));color:#1b1230;border:1px solid rgba(255,255,255,.3);padding:.46rem .75rem;border-radius:.7rem;font-weight:900;box-shadow:0 10px 30px rgba(0,0,0,.22);transition:transform 120ms ease, box-shadow 120ms ease}
  .btn:hover{transform:translateY(-1px);box-shadow:0 16px 40px rgba(0,0,0,.35)}
  .prompt{position:fixed;left:50%;transform:translateX(-50%);top:58px;padding:.55rem 1.1rem;border-radius:1rem;background:var(--glass);backdrop-filter:blur(14px);font-weight:900;z-index:3;border:1px solid rgba(255,255,255,.15);box-shadow:0 16px 40px rgba(0,0,0,.35)}
  .prompt small{display:block;font-weight:700;opacity:.75;letter-spacing:.05em;font-size:11px;margin-bottom:2px}
  .overlay{position:fixed;inset:0;display:none;place-items:center;background:radial-gradient(circle at 20% 20%,rgba(255,218,107,.12),transparent 38%),rgba(3,6,23,.65);backdrop-filter:blur(10px);z-index:4}
  .overlay.show{display:grid}
  .panel{width:min(720px,92vw);max-height:86vh;overflow:auto;background:var(--panel);border:1px solid rgba(255,255,255,.14);border-radius:18px;padding:22px;box-shadow:0 26px 80px rgba(0,0,0,.55);line-height:1.6}
  .row{display:flex;flex-wrap:wrap;gap:.6rem;margin:.55rem 0}
  .toggle{display:flex;align-items:center;gap:.55rem;padding:.6rem .8rem;background:var(--frost);border-radius:12px;cursor:pointer;border:1px solid rgba(255,255,255,.12);font-weight:700}
  .panel .btn{background:linear-gradient(120deg,#ffd166,#fcb1ff);color:#1a1725;border:none;font-weight:900;padding:.78rem 1.1rem;border-radius:12px;margin-top:12px;box-shadow:0 14px 38px rgba(0,0,0,.35)}
</style>
</head>
<body>
  <div class="hud">
    <div class="title">üåü Catch the Stars <span class="badge">v1.1.1</span></div>
    <div class="chip" id="scoreChip">Score: 0</div>
    <div class="chip" id="streakChip">Streak: 0</div>
    <div class="chip" id="flowChip">Flow x1.0</div>
    <div class="chip" id="levelChip">Level: 1</div>
    <div class="chip" id="livesChip">‚ù§Ô∏è‚ù§Ô∏è‚ù§Ô∏è</div>
    <div class="btn" id="btnPause">‚è∏</div>
    <div class="btn" id="btnSettings">‚öôÔ∏è</div>
  </div>
  <div class="prompt" id="prompt"><small>Mission</small>Tap the right star!</div>
  <canvas id="game"></canvas>

  <div class="overlay" id="pauseOverlay" role="dialog" aria-modal="true">
    <div class="panel">
      <h2 id="pauseTitle">Paused</h2>
      <div class="row">
        <button class="btn" id="btnResume">Resume ‚ñ∂</button>
        <button class="btn" id="btnRestart">Restart ‚Ü∫</button>
      </div>
      <div class="row">
        <div class="toggle"><input type="checkbox" id="soundOn" checked>SFX</div>
        <div class="toggle"><input type="checkbox" id="musicOn">Music</div>
      </div>
      <p>Goal: pop the star(s) that match the prompt. Keep your Flow high for bonus points and grab ‚ú¶ bonus orbs for extra time.</p>
    </div>
  </div>

  <div class="overlay" id="settingsOverlay" role="dialog" aria-modal="true">
    <div class="panel">
      <h2>Settings</h2>
      <div class="row">
        <label class="toggle"><input type="checkbox" id="modeNumbers" checked> Numbers</label>
        <label class="toggle"><input type="checkbox" id="modeLetters" checked> Letters</label>
        <label class="toggle"><input type="checkbox" id="modeColors" checked> Colors</label>
        <label class="toggle"><input type="checkbox" id="modeAddSub" checked> +/‚àí</label>
        <label class="toggle"><input type="checkbox" id="modeShapes"> Shapes</label>
      </div>
      <div class="row">
        <label class="toggle">Targets per level:
          <select id="targetsPerRound"><option>1</option><option>2</option><option selected>3</option><option>4</option></select>
        </label>
        <label class="toggle">Level time (sec):
          <select id="roundSeconds"><option>20</option><option selected>30</option><option>45</option></select>
        </label>
        <label class="toggle">Difficulty:
          <select id="difficulty"><option value="easy">Easy</option><option value="normal" selected>Normal</option><option value="hard">Hard</option></select>
        </label>
      </div>
      <button class="btn" id="btnApply">Apply & Close</button>
    </div>
  </div>

<script src="js/engine.js"></script>
<script src="js/game.js"></script>
</body>
</html>
